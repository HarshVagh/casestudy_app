<%= render "shared/header"%>
<div class="container">
    <div class="row justify-content-center mt-2">
        <div class="col">
            
            <table class="table table-bordered table-responsive table-hover ms-1 me-1 mt-2">
                <thead class="table-secondary">
                    <tr>
                    <th>Id</th>
                    <th>Body</th>
                    <th>Traits</th>
                    <th colspan="3">Options</th>
                    </tr>
                </thead>

                <tbody>
                    <% @questions.each do |question| %>
                    <tr>
                        <td><%= question.id %></td>
                        <td><%= question.body.size > 20 ? question.body[0..20]+"..." : question.body+"..." %></td>
                        <th><%= question.traits.all.count %></th>
                        <td><%= link_to "Show", casestudy_question_path(@casestudy.id, question.id), class: "btn btn-success" %></td>
                        <td><%= link_to "Edit", edit_casestudy_question_path(@casestudy.id, question), class: "btn btn-secondary" %></td>
                        <td><%= link_to "Delete", casestudy_question_path(@casestudy.id, question.id), method: :delete, class: "btn btn-danger" %></td>
                    </tr>
                    <% end %>
                </tbody>
            </table>

            <div class="row justify-content-center">
                <%= link_to "Add Question", new_casestudy_question_path, class: "btn btn-primary align-center col-3 me-4" %>
                <%= link_to "Finish", contentcreator_dashboard_path, class: "btn btn-primary align-center col-3" %>
            </div>
        </div>
    </div>
</div>